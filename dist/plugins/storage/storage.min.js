/*!
 * storage.js
 * storage plugin wrapper to use with
 * simplebasket (https://github.com/borntorun/simple-basket)
 * Copyright 2016 Jo√£o Carvalho (https://github.com/borntorun); Licensed MIT
 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["simplebasket"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("simplebasket")):b(a.simplebasket)}(this,function(a){"use strict";function b(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}if(a&&a.plug){var c=a.getBasePluginWrapper("storage");return c.save=function(a){return this[c.type].save(this.getClone(),a)},c.load=function(a){var d=this,e=new Promise(function(a,b){d[c.type].load().then(function(b){d.removeAll(),!!b&&d.add(b),a(d.getClone())})["catch"](function(a){b(a)})});return b(e,a),e},c.clear=function(a){return this[c.type].clear(a)},a.plug(c),a}});
