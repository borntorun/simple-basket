/*!
 * storage.js
 * storage plugin wrapper to use with
 * simplebasket (https://github.com/borntorun/simple-basket)
 * Copyright 2016 Jo√£o Carvalho (https://github.com/borntorun); Licensed MIT
 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["simplebasket"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("simplebasket")):b(a.simplebasket)}(this,function(a){"use strict";function b(a,b){c(b)&&a.then(function(a){b(null,a)},function(a){b(a)})}function c(a){return"[object Function]"==={}.toString.call(a)}if(a&&a.plug){var d=a.getBasePluginWrapper("storage");return d.save=function(a){return this[d.type].save(this.getClone(),a)},d.load=function(a){var c=this,e=new Promise(function(a,b){c[d.type].load().then(function(b){c.removeAll(),!!b&&c.add(b),a(c.getClone())})["catch"](function(a){b(a)})});return b(e,a),e},d.clear=function(a){return this[d.type].clear(a)},a.plug(d),a}});
